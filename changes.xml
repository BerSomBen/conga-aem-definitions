<?xml version="1.0" encoding="UTF-8"?>
<!--
  #%L
  wcm.io
  %%
  Copyright (C) 2015 wcm.io
  %%
  Licensed under the Apache License, Version 2.0 (the "License");
  you may not use this file except in compliance with the License.
  You may obtain a copy of the License at

       http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.
  #L%
  -->

<document xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns="http://maven.apache.org/changes/1.0.0"
    xsi:schemaLocation="http://maven.apache.org/changes/1.0.0 http://maven.apache.org/plugins/maven-changes-plugin/xsd/changes-1.0.0.xsd">
  <body>

    <release version="0.10.0" date="not released">
      <action type="add" dev="sseifert">
        Role aem-dispatcher: Cache AEM Clientlibs with long cache key for 1 year (CSS/JS files with '.lc-*-lc.min.' in the file name).
      </action>
      <action type="update" dev="sseifert">
        Role aem-dispatcher: Allow access to clientlibs proxy servlet (/etc.clientlibs).
      </action>
      <action type="fix" dev="sseifert">
        Role aem-dispatcher: Always use LocationMatch instead of FilesMatch to better play together with dispatcher.
      </action>
      <action type="update" dev="sseifert">
        Role aem-cms: Remove 'Create web enabled video formats' step from minimal DAM Update Asset workflow.
      </action>
      <action type="add" dev="twolfart">
        Sling Mapping: ease handling for resolution of non-matching requests
      </action>
    </release>

    <release version="0.9.0" date="2017-04-07">
      <action type="update" dev="mwehner">
        Role aem-cms: Start AEM with -nofork option.
      </action>
      <action type="update" dev="mwehner">
        Role aem-dispatcher-*: Make each role explicitly activate all httpd modules it depends on.
      </action>
      <action type="fix" dev="sseifert">
        Role aem-cms: Fix PID of Sling DavEx servlet.
      </action>
      <action type="update" dev="sseifert">
        Role aem-cms: Add parameter quickstart.rootPath that defines the AEM home directory.
      </action>
      <action type="update" dev="sseifert">
        Role aem-dispatcher-common: Add parameter httpd.modules that lists apache modules.
      </action>
    </release>

    <release version="0.8.0" date="2017-02-09">
      <action type="add" dev="sseifert">
        HSTS support in dispatcher: Increase timeout to 31536000 seconds (one year).
      </action>
      <action type="update" dev="twolfart">
        VHost templates: Switch from filesystem to webspace directives.
      </action>
      <action type="update" dev="twolfart">
        VHost templates: Remove document root, not required because dispatcher handles all requests.
      </action>
      <action type="add" dev="trichter">
        Apache 2.4 compatibility: Add conditional statements for access control to enable Apache 2.4 compatibility without access_compat module.
      </action>
      <action type="add" dev="trichter">
        Apache 2.4 compatibility: Add dispatcher.allowAdminAccessFromHost option for host based access control
      </action>
      <action type="add" dev="trichter">
        Apache 2.4 compatibility: Add dispatcher.allowFlushFromHost option for host based access control
      </action>
      <action type="update" dev="trichter">
        Apache 2.4 compatibility: Change dispatcher.allowFlushFrom and dispatcher.allowAdminAccessFrom based rules to handle ip addresses only
      </action>
      <action type="update" dev="trichter">
        Apache 2.4 compatibility: Updated roles and examples to reflect new options dispatcher.allowFlushFromHost and dispatcher.allowAdminAccessFromHost
      </action>
      <action type="add" dev="sseifert">
        Role aem-cms: Add new property quickstart.hideConfigWizard (default: true).
      </action>
      <action type="add" dev="sseifert">
        Role aem-cms: Add new property quickstart.enableDavEx to enable CRX DE Usage (default: false).
      </action>
    </release>

    <release version="0.7.0" date="2016-09-21">
      <action type="add" dev="sseifert">
        Add dispatcher.enforceSsl flag to enforce redirect to HTTPS, and enable HSTS.
      </action>
      <action type="update" dev="sseifert">
        Add default cache-control header and set noindex for some non-html files.
      </action>
      <action type="fix" dev="sseifert">
        Disable .form, .feed and .feedentry extensions in dispatcher.
      </action>
    </release>

    <release version="0.6.8" date="2016-06-15">
      <action type="update" dev="mrozati" issue="WDCONGA-3">
        Use optimistic auto-invlaidation rules in publish dispatcher.any instead of pessimistic ones.
      </action>
      <action type="update" dev="sseifert" issue="WDCONGA-4">
        Add dispatcher.forwardClientHeaders option for author and publish dispatcher configurations. Defaults to "*".
      </action>
      <action type="update" dev="sseifert">
        Deny access to /bin on publish dispatcher.
      </action>
      <action type="update" dev="sseifert">
        Add "jvm.args" optional parameter for AEM start script.
      </action>
    </release>

    <release version="0.6.6" date="2015-10-16">
      <action type="fix" dev="twolfart">
        Fix typo in dispatcher transportPassword.
      </action>
      <action type="fix" dev="sseifert">
        Fix sling mapping configuration for publish instances if multiple hostnames are defined.
      </action>
    </release>

    <release version="0.6.4" date="2015-09-26">
      <action type="update" dev="dbendlin">
        Allow sslCACertificateFile and sslCACertificatePath to be optional for author and publish vhosts.
      </action>
      <action type="fix" dev="sseifert">
        Fix deny patterns for author/publish vhost to make sure they are only applied at the beginning of the URL.
      </action>
    </release>

    <release version="0.6.2" date="2015-09-03">
      <action type="fix" dev="sseifert">
        Set default port for publish instances to 4503.
      </action>
      <action type="fix" dev="sseifert">
        Make sure optional serverNameSsl is included in dispatcher_publish.any.
      </action>
    </release>

    <release version="0.6.0" date="2015-07-24">
      <action type="add" dev="sseifert">
        aem-dispatcher-publish: Add support for CORS header in dispatcher vhost config.
      </action>
    </release>

    <release version="0.5.0" date="2015-07-08">
      <action type="add" dev="sseifert">
        Initial release.
      </action>
    </release>

  </body>
</document>
