{
  "jcr:primaryType": "sling:Folder",

  "http": {
    "jcr:primaryType": "sling:Folder"

{{#eachIf tenants "config.slingMappingPath"}},
    "{{this.tenant}}": {
      "jcr:primaryType": "sling:Mapping",
      "sling:internalRedirect": ["{{this.config.slingMappingPath}}","/"],
      "sling:match": "^(?!/etc.clientlibs).*$"
    }
  {{~#each this.config.serverAliasNames}},
    "{{this}}": {
      "jcr:primaryType": "sling:Mapping",
      "sling:internalRedirect": ["{{../this.config.slingMappingPath}}","/"],
      "sling:match": "^(?!/etc.clientlibs).*$"
    }
  {{/each ~}}
{{/eachIf}}

  },

  "https": {
    "jcr:primaryType": "sling:Folder"

{{#eachIf tenants "config.slingMappingPath"}},
  {{~#if this.config.serverNameSsl}}
    "{{this.config.serverNameSsl}}": {
      "jcr:primaryType": "sling:Mapping",
      "sling:internalRedirect": ["{{this.config.slingMappingPath}}","/"],
      "sling:match": "^(?!/etc.clientlibs).*$"
    }
  {{~ else ~}}
    "{{this.tenant}}": {
      "jcr:primaryType": "sling:Mapping",
      "sling:internalRedirect": ["{{this.config.slingMappingPath}}","/"],
      "sling:match": "^(?!/etc.clientlibs).*$"
    }
  {{/if ~}}
  {{~#each this.config.serverAliasNames}},
    "{{this}}": {
      "jcr:primaryType": "sling:Mapping",
      "sling:internalRedirect": ["{{../this.config.slingMappingPath}}","/"],
      "sling:match": "^(?!/etc.clientlibs).*$"
    }
  {{/each ~}}
{{/eachIf}}

  }

}
